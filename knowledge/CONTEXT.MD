# WFounders - Web3 Founder Network Platform

## ğŸ—ï¸ Architecture Overview

**WFounders** is a modern Web3 application that creates a global network of verified company founders. Built with a **React + TypeScript + Vite** frontend, **Web3Auth** for social authentication, **Supabase** for backend services, and **Polygon blockchain** for token operations.

The platform combines traditional social networking with Web3 capabilities while keeping blockchain complexity invisible to end users. **Currently implementing a comprehensive NEYXT token purchase flow** that allows users to buy tokens using crypto or fiat with gas fees paid in NEYXT.

## ğŸ¯ Core Concept

WFounders addresses the "noise" in traditional founder networks by providing:
- **Verified founder-only access** through LinkedIn authentication
- **Web3-powered transparency** without exposing users to blockchain complexity
- **Value creation** rather than value extraction from members
- **Global founder community** with authentic connections
- **NEYXT Token Economy** - Platform token for features and gasless transactions

## ğŸ›ï¸ System Architecture

### Frontend Layer
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    React + TypeScript                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚   Pages     â”‚ â”‚ Components  â”‚ â”‚      Hooks          â”‚  â”‚
â”‚  â”‚             â”‚ â”‚             â”‚ â”‚                     â”‚  â”‚
â”‚  â”‚ â€¢ HomePage  â”‚ â”‚ â€¢ UI        â”‚ â”‚ â€¢ useWeb3Auth       â”‚  â”‚
â”‚  â”‚ â€¢ AdminPage â”‚ â”‚ â€¢ Layout    â”‚ â”‚ â€¢ useSupabaseUser   â”‚  â”‚
â”‚  â”‚ â€¢ Auth      â”‚ â”‚ â€¢ User      â”‚ â”‚ â€¢ useTokenService   â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â€¢ Wallet    â”‚ â”‚ â€¢ useAdmin          â”‚  â”‚
â”‚                  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Authentication & Web3 Layer
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   Web3Auth + Ethers                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ Web3Auth    â”‚ â”‚   Context   â”‚ â”‚    Token Service    â”‚  â”‚
â”‚  â”‚ Provider    â”‚ â”‚             â”‚ â”‚                     â”‚  â”‚
â”‚  â”‚             â”‚ â”‚ â€¢ Provider  â”‚ â”‚ â€¢ NEYXT Balance     â”‚  â”‚
â”‚  â”‚ â€¢ LinkedIn  â”‚ â”‚ â€¢ User Info â”‚ â”‚ â€¢ Native Balance    â”‚  â”‚
â”‚  â”‚ â€¢ Social    â”‚ â”‚ â€¢ Wallet    â”‚ â”‚ â€¢ Transactions      â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Backend Services Layer
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Supabase + Edge Functions               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  Database   â”‚ â”‚ Edge Funcs  â”‚ â”‚    Email Service    â”‚  â”‚
â”‚  â”‚             â”‚ â”‚             â”‚ â”‚                     â”‚  â”‚
â”‚  â”‚ â€¢ Users     â”‚ â”‚ â€¢ OpenAI    â”‚ â”‚ â€¢ Welcome Emails    â”‚  â”‚
â”‚  â”‚ â€¢ Profiles  â”‚ â”‚ â€¢ Chat      â”‚ â”‚ â€¢ Approval Emails   â”‚  â”‚
â”‚  â”‚ â€¢ Admin     â”‚ â”‚ â€¢ CORS      â”‚ â”‚ â€¢ Resend API        â”‚  â”‚
â”‚  â”‚ â€¢ Buy Flow  â”‚ â”‚ â€¢ Quote     â”‚ â”‚ â€¢ Buy Flow APIs     â”‚  â”‚
â”‚  â”‚ â€¢ Analytics â”‚ â”‚ â€¢ Execute   â”‚ â”‚ â€¢ Onramp Webhooks   â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Blockchain Layer
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Polygon Network                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚   Testnet   â”‚ â”‚  Mainnet    â”‚ â”‚    Smart Contracts  â”‚  â”‚
â”‚  â”‚             â”‚ â”‚             â”‚ â”‚                     â”‚  â”‚
â”‚  â”‚ â€¢ Amoy      â”‚ â”‚ â€¢ Polygon   â”‚ â”‚ â€¢ NEYXT Token       â”‚  â”‚
â”‚  â”‚ â€¢ Faucets   â”‚ â”‚ â€¢ RPC URLs  â”‚ â”‚ â€¢ ERC-20 Standard   â”‚  â”‚
â”‚  â”‚ â€¢ Dev Tools â”‚ â”‚ â€¢ Explorer  â”‚ â”‚ â€¢ Balance Checks    â”‚  â”‚
â”‚  â”‚ â€¢ Buy Flow  â”‚ â”‚ â€¢ Buy Flow  â”‚ â”‚ â€¢ QuickSwap Pool    â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Buy Flow Architecture (NEW)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    NEYXT Purchase Flow                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚   Frontend  â”‚ â”‚   Backend   â”‚ â”‚    Providers        â”‚  â”‚
â”‚  â”‚             â”‚ â”‚             â”‚ â”‚                     â”‚  â”‚
â”‚  â”‚ â€¢ Buy Modal â”‚ â”‚ â€¢ Quote API â”‚ â”‚ â€¢ 0x Swap API       â”‚  â”‚
â”‚  â”‚ â€¢ Asset Sel â”‚ â”‚ â€¢ Execute   â”‚ â”‚ â€¢ Transak Onramp    â”‚  â”‚
â”‚  â”‚ â€¢ Confirm   â”‚ â”‚ â€¢ Status    â”‚ â”‚ â€¢ Biconomy Paymasterâ”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ“ Project Structure

```
NetworkF/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”œâ”€â”€ debug/
â”‚   â”‚   â”‚   â”œâ”€â”€ BalanceDebugger.tsx
â”‚   â”‚   â”‚   â””â”€â”€ EnvironmentChecker.tsx
â”‚   â”‚   â”œâ”€â”€ layout/
â”‚   â”‚   â”‚   â””â”€â”€ Header.tsx
â”‚   â”‚   â”œâ”€â”€ ui/
â”‚   â”‚   â”‚   â”œâ”€â”€ Button.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ NetworkIndicator.tsx
â”‚   â”‚   â”‚   â””â”€â”€ QuoteBreakdown.tsx                 # ğŸ§© [M4.4] Scaffolded - Quote display UI ready
â”‚   â”‚   â”œâ”€â”€ user/
â”‚   â”‚   â”‚   â”œâ”€â”€ AIProfilingModal.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ ProfileCompletionModal.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ SurveyModal.tsx
â”‚   â”‚   â”‚   â””â”€â”€ UserProfile.tsx
â”‚   â”‚   â””â”€â”€ wallet/
â”‚   â”‚       â”œâ”€â”€ FaucetLinks.tsx
â”‚   â”‚       â”œâ”€â”€ NetworkMismatchWarning.tsx
â”‚   â”‚       â”œâ”€â”€ TokenBalance.tsx
â”‚   â”‚       â”œâ”€â”€ BuyNeyxtModal.tsx                  # ğŸ§© [M6.1] Scaffolded - 3-step buy flow ready
â”‚   â”‚       â”œâ”€â”€ GaslessBadge.tsx                   # ğŸ§© [M6.3] Scaffolded - Gas fee display ready
â”‚   â”‚       â””â”€â”€ OnrampWidget.tsx                   # ğŸ§© [M7.1] Scaffolded - Transak widget ready
â”‚   â”œâ”€â”€ config/
â”‚   â”‚   â”œâ”€â”€ env.ts                                 # âœ… [M1.2] Complete - All provider API keys configured
â”‚   â”‚   â”œâ”€â”€ networks.ts                            # âœ… [M1.3] Complete - Polygon mainnet + Amoy configured
â”‚   â”‚   â””â”€â”€ contracts.ts                           # âœ… [M1.1] Complete - All contract addresses configured
â”‚   â”‚                                              # âœ… [M2.2] Complete - NEYXT/WETH/router addresses configured
â”‚   â”‚                                              # âœ… [M2.3] Complete - QuickSwap v2 WETH/NEYXT pool configured
â”‚   â”‚                                              # âœ… [M3.1] Complete - Reference DEX and policy bounds set
â”‚   â”œâ”€â”€ contexts/
â”‚   â”‚   â”œâ”€â”€ Web3AuthContext.ts
â”‚   â”‚   â”œâ”€â”€ Web3AuthProvider.tsx
â”‚   â”‚   â””â”€â”€ BuyFlowProvider.tsx                    # TODO [M6.2] (optional) shared state for modal steps
â”‚   â”œâ”€â”€ features/
â”‚   â”‚   â””â”€â”€ profiler/
â”‚   â”‚       â””â”€â”€ FounderProfiler.tsx
â”‚   â”œâ”€â”€ hooks/
â”‚   â”‚   â”œâ”€â”€ ethersRPC.ts
â”‚   â”‚   â”œâ”€â”€ useAdmin.ts
â”‚   â”‚   â”œâ”€â”€ useSupabaseUser.ts
â”‚   â”‚   â”œâ”€â”€ useTokenService.ts
â”‚   â”‚   â”œâ”€â”€ useWeb3Auth.ts
â”‚   â”‚   â”œâ”€â”€ useBuyNeyxt.ts                         # ğŸ§© [M5.5] Scaffolded - Buy orchestration ready
â”‚   â”‚   â”œâ”€â”€ useQuote.ts                            # ğŸ§© [M4.2] Scaffolded - Quote API calls ready
â”‚   â”‚   â””â”€â”€ useOnrampEvents.ts                     # ğŸ§© [M7.3] Scaffolded - Onramp event handling ready
â”‚   â”œâ”€â”€ lib/
â”‚   â”‚   â”œâ”€â”€ database.types.ts
â”‚   â”‚   â””â”€â”€ supabase.ts
â”‚   â”œâ”€â”€ pages/
â”‚   â”‚   â”œâ”€â”€ AdminLoginPage.tsx
â”‚   â”‚   â”œâ”€â”€ AdminPage.tsx
â”‚   â”‚   â””â”€â”€ HomePage.tsx                           # TODO [M6.1] Add "Buy NEYXT" CTA entry point
â”‚   â”œâ”€â”€ services/
â”‚   â”‚   â”œâ”€â”€ adminService.ts
â”‚   â”‚   â”œâ”€â”€ emailService.ts
â”‚   â”‚   â”œâ”€â”€ profilerLLM.ts
â”‚   â”‚   â”œâ”€â”€ profilerService.ts
â”‚   â”‚   â”œâ”€â”€ userService.ts
â”‚   â”‚   â”œâ”€â”€ analytics.ts                           # ğŸ§© [M6.4] Scaffolded - Analytics events ready
â”‚   â”‚   â”œâ”€â”€ onrampService.ts                       # ğŸ§© [M7.4] Scaffolded - Onramp integration ready
â”‚   â”‚   â”œâ”€â”€ paymasterService.ts                    # ğŸ§© [M5.4] Scaffolded - Biconomy integration ready
â”‚   â”‚   â””â”€â”€ swapService.ts                         # ğŸ§© [M4.2] Scaffolded - Swap API calls ready
â”‚   â””â”€â”€ types/
â”‚       â”œâ”€â”€ auth.ts
â”‚       â”œâ”€â”€ buy.ts                                 # ğŸ§© [M4.3] Scaffolded - Quote/Route/Status types ready
â”‚       â””â”€â”€ rollup-plugin-polyfill-node.d.ts
â”œâ”€â”€ supabase/
â”‚   â””â”€â”€ functions/
â”‚       â”œâ”€â”€ _shared/
â”‚       â”‚   â”œâ”€â”€ cors.ts
â”‚       â”‚   â”œâ”€â”€ hmac.ts                            # ğŸ§© [M7.2] Scaffolded - HMAC verification ready
â”‚       â”‚   â”œâ”€â”€ paymaster.ts                       # ğŸ§© [M5.1] Scaffolded - Biconomy helpers ready
â”‚       â”‚   â””â”€â”€ pricing.ts                         # ğŸ§© [M3.2] Scaffolded - Pool price fetching ready
â”‚       â”œâ”€â”€ openai-chat/
â”‚       â”œâ”€â”€ send-approval-email/
â”‚       â”œâ”€â”€ send-welcome-email/
â”‚       â”œâ”€â”€ execute/                               # ğŸ§© [M5.2] Scaffolded - Swap execution ready
â”‚       â”œâ”€â”€ onramp-webhook/                        # ğŸ§© [M7.2] Enhanced - Transak webhook integration started
â”‚       â”œâ”€â”€ quote/                                 # ğŸ§© [M4.1] Scaffolded - 0x quote API ready
â”‚       â””â”€â”€ status/                                # ğŸ§© [M5.3] Scaffolded - Transaction status ready
â”œâ”€â”€ knowledge/
â”‚   â”œâ”€â”€ FounderProfiler/
â”‚   â””â”€â”€ buyFlow/                                   # âœ… Complete - Comprehensive buy flow documentation
â”œâ”€â”€ public/
â”œâ”€â”€ Configuration files
â””â”€â”€ README-BUY-FLOW.md                              # âœ… [M1.1] Complete - Overview, flags, runbooks & milestones
```

## ğŸ”§ Technology Stack

### Frontend
- **React 19.1.0** - Modern React with latest features
- **TypeScript 5.8.3** - Full type safety
- **Vite 7.0.4** - Fast build tool and dev server
- **Tailwind CSS 4.1.11** - Utility-first CSS framework
- **React Router DOM 7.7.0** - Client-side routing

### Authentication & Web3
- **Web3Auth Modal 10.0.6** - Social authentication
- **Ethers.js 6.15.0** - Ethereum library
- **Polygon Network** - Mainnet and testnet support
- **MPC Wallets** - Multi-party computation security

### Backend & Database
- **Supabase** - PostgreSQL database with real-time features
- **Edge Functions** - Serverless backend functions
- **Resend API** - Email delivery service
- **OpenAI API** - AI-powered profiling

### Buy Flow Providers (NEW)
- **0x Swap API** - Primary swap aggregator for Polygon
- **Transak** - Primary fiat onramp provider
- **Biconomy Token Paymaster** - Gasless transactions with NEYXT fees
- **QuickSwap v2** - Reference DEX for WETH/NEYXT pricing

### Development Tools
- **ESLint 9.30.1** - Code quality and consistency
- **TypeScript ESLint** - TypeScript-specific linting
- **Vite Plugins** - React and Tailwind integration

## ğŸš€ Key Features

### 1. **Social Authentication System**
- LinkedIn integration for founder verification
- Automatic wallet creation without seed phrases
- Multi-party computation (MPC) security
- Seamless Web3 onboarding

### 2. **Founder Profiling Engine**
- Adaptive questionnaire system
- AI-powered response mapping
- Profile confidence scoring
- Multi-dimensional founder categorization

### 3. **Onboarding Flow**
- **Survey Modal**: Collects entity name and founding idea
- **Profile Completion**: Captures user goals and needs
- **Non-blocking**: Users can skip and complete later
- **Progressive disclosure**: Step-by-step profile building

### 4. **Token Economy**
- **NEYXT Token**: Custom ERC-20 token for platform features
- **Balance Management**: Real-time token and native balance display
- **Transaction Support**: Send NEYXT and native tokens
- **Network Auto-switching**: Seamless testnet/mainnet handling

### 5. **NEYXT Purchase Flow (NEW)**
- **3-Step Process**: Select asset â†’ Get quote â†’ Confirm purchase
- **Multi-Asset Support**: USDC, POL, ETH, and Fiat onramp
- **Gasless Transactions**: Fees paid in NEYXT via Biconomy
- **Price Protection**: Reference pool validation and slippage controls
- **Auto-Swap**: Fiat purchases automatically convert to NEYXT

### 6. **Admin Dashboard**
- User approval workflow (pending/approved/rejected)
- Connection management between users
- Statistics and analytics
- User status management

### 7. **Email Automation**
- Welcome emails for new users
- Approval notifications
- Environment-aware email templates
- Resend API integration

## ğŸ”„ Data Flow Architecture

```
User Action â†’ React Component â†’ Hook â†’ Service â†’ External API
     â†“              â†“           â†“       â†“         â†“
  LinkedIn    â†’ Web3Auth â†’ Supabase â†’ Database â†’ Blockchain
  Login           Auth      Profile    Storage    Tokens
```

### Authentication Flow
1. User clicks "Join via LinkedIn"
2. Web3Auth opens social login modal
3. User authenticates with LinkedIn
4. Web3Auth creates MPC wallet
5. User data syncs to Supabase
6. User enters onboarding flow

### Onboarding Flow
1. **Survey**: Entity name + founding idea
2. **Profile Completion**: What user is looking for
3. **Admin Review**: Manual approval process
4. **Approval Email**: Notification of acceptance
5. **Profile Access**: Full platform access

### Token Operations Flow
1. User connects wallet
2. App detects network (testnet/mainnet)
3. Fetches balances from blockchain
4. Displays real-time token information
5. Enables token transactions

### NEYXT Purchase Flow (NEW)
1. **Asset Selection**: User chooses payment method (USDC/POL/ETH/Fiat)
2. **Quote Generation**: 0x API provides swap route with pricing
3. **Price Validation**: Reference pool check against QuickSwap WETH/NEYXT
4. **Transaction Execution**: Biconomy paymaster handles gas in NEYXT
5. **Status Monitoring**: Real-time transaction status updates
6. **Auto-Swap**: Fiat purchases automatically convert to NEYXT

## ğŸŒ Environment Configuration

### Development Environment
- **Database**: Development Supabase project
- **Network**: Polygon Amoy Testnet
- **Web3Auth**: Sapphire Devnet
- **Tokens**: Testnet NEYXT contract
- **Buy Flow**: Testnet providers and contracts
- **Debug Tools**: Environment checker, balance debugger

### Production Environment
- **Database**: Production Supabase project
- **Network**: Polygon Mainnet
- **Web3Auth**: Sapphire Mainnet
- **Tokens**: Mainnet NEYXT contract
- **Buy Flow**: Production providers and contracts
- **Optimized**: Production builds, no debug tools

### Auto-Switching Logic
Vite loads environment files by mode and we use generic key names in both files. No DEV/PROD suffixes in variable names anymore.

- `npm run dev` â†’ Vite loads `.env.development`
- `npm run build`/`npm run preview` â†’ Vite loads `.env.production`

Config reads the same keys in both environments:

```typescript
// config/env.ts (simplified)
const config = {
  isDevelopment: import.meta.env.DEV,
  supabase: {
    url: import.meta.env.VITE_SUPABASE_URL,
    anonKey: import.meta.env.VITE_SUPABASE_ANON_KEY,
    projectId: import.meta.env.VITE_SUPABASE_PROJECT_ID,
  },
  buyFlow: {
    enableFiat: import.meta.env.VITE_FEATURE_ENABLE_FIAT === 'true',
    enableGasSponsorship: import.meta.env.VITE_FEATURE_ENABLE_GAS_SPONSORSHIP === 'true',
  }
};
```

Contracts and addresses are also generic and come from the env file currently loaded by Vite. Networks still switch UI/network metadata via `import.meta.env.DEV`, while addresses themselves come from the env file values.

## ğŸ—„ï¸ Database Schema

### Core Tables
- **`users`**: User profiles, LinkedIn data, approval status
- **`connections`**: Network connections between users
- **`admin_users`**: Admin permissions and roles
- **`app_statistics`**: Platform metrics and analytics

### Buy Flow Tables (NEW)
- **`profiler_sessions`**: Profiler interview sessions and results
- **`profiler_events`**: Individual question responses and analytics
- **`buy_flow_sessions`**: Purchase flow tracking and analytics

### Key Fields
```sql
-- Users table with onboarding fields
CREATE TABLE users (
  id UUID PRIMARY KEY,
  email TEXT,
  name TEXT,
  linkedin_id TEXT,
  status TEXT CHECK (status IN ('pending', 'approved', 'rejected')),
  entity_name TEXT,           -- From survey
  founding_idea TEXT,          -- From survey
  survey_completed BOOLEAN,    -- Survey completion flag
  looking_for TEXT,            -- From profile completion
  profile_completed BOOLEAN,   -- Profile completion flag
  profiler_profile_name TEXT,  -- AI profiling result
  profiler_confidence NUMERIC, -- AI confidence score
  is_admin BOOLEAN,            -- Admin privileges
  created_at TIMESTAMP,
  updated_at TIMESTAMP
);

-- Buy Flow tracking (NEW)
CREATE TABLE buy_flow_sessions (
  id UUID PRIMARY KEY,
  user_id UUID REFERENCES users(id),
  session_type TEXT,           -- 'crypto' or 'fiat'
  pay_asset TEXT,              -- USDC, POL, ETH, FIAT
  amount_in DECIMAL,
  amount_out_est DECIMAL,
  status TEXT,                 -- 'pending', 'completed', 'failed'
  route_id TEXT,
  tx_ids TEXT[],
  created_at TIMESTAMP,
  updated_at TIMESTAMP
);
```

## ğŸ” Security Features

### Authentication Security
- **Web3Auth MPC**: Enterprise-grade key security
- **Social Login**: Verified identity through LinkedIn
- **Session Management**: Secure token-based sessions
- **Row Level Security**: Database access controls

### Blockchain Security
- **Network Validation**: Automatic network switching
- **Contract Verification**: Smart contract existence checks
- **Transaction Signing**: Secure transaction approval
- **Balance Validation**: Real-time balance verification

### Buy Flow Security (NEW)
- **Price Validation**: Reference pool checks prevent manipulation
- **Slippage Protection**: Maximum 1% slippage tolerance
- **Router Allowlisting**: Only verified DEX routers allowed
- **HMAC Webhooks**: Secure onramp webhook verification
- **Rate Limiting**: Per-wallet daily purchase caps

### Data Security
- **Environment Isolation**: Separate dev/prod databases
- **API Key Management**: Secure environment variable handling
- **CORS Configuration**: Controlled cross-origin access
- **Input Validation**: Type-safe data handling

## ğŸš€ Deployment Architecture

### Build Process
1. **TypeScript Compilation**: Strict type checking
2. **Vite Build**: Optimized production bundle
3. **Environment Injection**: Runtime configuration
4. **Static Generation**: Deployable to any static host

### Deployment Options
- **Vercel**: Recommended for automatic deployments
- **Netlify**: Alternative static hosting
- **AWS S3 + CloudFront**: Enterprise hosting
- **GitHub Pages**: Free hosting option

### Environment Variables
Use generic names in both env files. The values differ per file.

```bash
# Shared (frontend) â€” placed in .env.development and .env.production
VITE_WEB3AUTH_CLIENT_ID=
VITE_APP_NAME=

# Supabase (frontend)
VITE_SUPABASE_URL=
VITE_SUPABASE_ANON_KEY=
VITE_SUPABASE_PROJECT_ID=

# Feature flags
VITE_FEATURE_ENABLE_FIAT=false
VITE_FEATURE_ENABLE_GAS_SPONSORSHIP=false
VITE_FEATURE_ENABLE_CROSS_CHAIN=false

# Buy Flow (contracts & DEX)
VITE_POLYGON_NEYXT_CONTRACT_ADDRESS=
VITE_POLYGON_WETH_CONTRACT_ADDRESS=
VITE_POLYGON_USDC_CONTRACT_ADDRESS=
VITE_POLYGON_QUICKSWAP_FACTORY=
VITE_POLYGON_QUICKSWAP_ROUTER=
VITE_POLYGON_REF_POOL_ADDRESS=
VITE_POLYGON_BICONOMY_PAYMASTER=
VITE_POLYGON_ALLOWED_ROUTERS=0x...,0x...

# Server-only (Supabase secrets)
ZEROX_API_KEY=
TRANSAK_API_KEY=
BICONOMY_API_KEY=
BICONOMY_PAYMASTER_ID=
RESEND_API_KEY=
OPENAI_API_KEY=
# Optional
ONRAMP_WEBHOOK_SECRET=
ALCHEMY_OR_RPC_URL_POLYGON=
```

Sync env files to Supabase secrets per project:

```bash
npm run secrets:dev   # uses .env.development â†’ dev project
npm run secrets:prod  # uses .env.production â†’ prod project
```

## ğŸ§ª Development Features

### Debug Tools (Development Only)
- **Environment Checker**: Shows current environment status
- **Balance Debugger**: Inspects token balances and contracts
- **Network Indicator**: Displays current blockchain network
- **Network Mismatch Warning**: Prompts for network switching
- **Faucet Links**: Quick access to testnet token faucets

### Buy Flow Debug Tools (NEW)
- **Quote Testing**: Test 0x API integration
- **Paymaster Testing**: Test Biconomy integration
- **Onramp Testing**: Test Transak widget integration
- **Pool Price Testing**: Test QuickSwap reference pool

### Testing Capabilities
- **Email Testing**: Test welcome and approval emails
- **Balance Testing**: Test token balance fetching
- **Network Testing**: Test network switching
- **Contract Testing**: Test smart contract interactions
- **Buy Flow Testing**: Test complete purchase flow

## ğŸ“Š Performance Optimizations

### Frontend Optimizations
- **Code Splitting**: Route-based code splitting
- **Lazy Loading**: Component lazy loading
- **Tree Shaking**: Unused code elimination
- **Bundle Optimization**: Vite production builds

### Backend Optimizations
- **Edge Functions**: Serverless backend processing
- **Database Indexing**: Optimized query performance
- **Caching**: Supabase query caching
- **Connection Pooling**: Efficient database connections

### Buy Flow Optimizations (NEW)
- **Quote Caching**: Cache 0x quotes for 45 seconds
- **Batch Processing**: Process multiple transactions efficiently
- **Fallback Providers**: Automatic fallback to backup aggregators
- **Status Polling**: Efficient transaction status updates

## ğŸ”® Future Architecture Considerations

### Scalability
- **Microservices**: Potential service decomposition
- **Load Balancing**: Multiple backend instances
- **CDN Integration**: Global content delivery
- **Database Sharding**: Horizontal database scaling

### Feature Extensions
- **Real-time Chat**: WebSocket integration
- **Video Calls**: WebRTC implementation
- **File Storage**: Supabase storage integration
- **Mobile Apps**: React Native consideration

### Blockchain Enhancements
- **Multi-chain Support**: Ethereum, Solana, etc.
- **DeFi Integration**: Yield farming, staking
- **NFT Profiles**: Soulbound tokens
- **DAO Governance**: Community decision making

### Buy Flow Enhancements (NEW)
- **Cross-chain Swaps**: Multi-chain token purchases
- **Advanced Orders**: Limit orders and DCA strategies
- **Portfolio Management**: Token portfolio tracking
- **Yield Integration**: Staking and farming features

## ğŸ“š Getting Started

### Prerequisites
- Node.js 18+
- Web3Auth account
- Supabase account
- Polygon wallet (for testing)
- 0x API key (for buy flow)
- Transak account (for fiat onramp)
- Biconomy account (for gasless transactions)



### Environment Setup
1. **Web3Auth**: Create project and get client ID
2. **Supabase**: Create dev and prod projects
3. **Polygon**: Deploy NEYXT token contracts
4. **Resend**: Set up email service for edge functions
5. **Buy Flow Providers**: Set up 0x, Transak, and Biconomy accounts

## ğŸ¤ Contributing

### Development Guidelines
- **TypeScript**: Strict type checking enabled
- **ESLint**: Code quality enforcement
- **Component Structure**: Consistent component organization
- **Testing**: Component and integration testing

### Code Standards
- **Naming**: Descriptive variable and function names
- **Documentation**: JSDoc comments for complex functions
- **Error Handling**: Comprehensive error handling
- **Performance**: Optimized rendering and data fetching

### Buy Flow Standards (NEW)
- **Provider Integration**: Consistent error handling across providers
- **Transaction Safety**: Always validate quotes before execution
- **User Experience**: Clear feedback and progress indicators
- **Analytics**: Comprehensive event tracking for optimization

## ğŸ“„ License

This project is licensed under the MIT License.

## ğŸ†˜ Support & Resources

- **Documentation**: Comprehensive setup guides included
- **Issues**: GitHub issue tracking
- **Community**: Web3Auth and Supabase communities
- **Architecture**: Detailed technical documentation
- **Buy Flow**: Complete implementation guide in knowledge/buyFlow/

---

**WFounders** - Building the future, one founder at a time. ğŸš€

**Current Focus**: Implementing comprehensive NEYXT token purchase flow with gasless transactions and fiat onramp support.
